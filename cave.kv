#: kivy 2.0.0

<DeviceTab>:
    FloatLayout:
        id: fl
        Label:
            text: root.title
            pos_hint: {'x': .09, 'y': .5}
            font_size: '20dp'
            size_hint: (.8, .6)
        GridLayout:
            id: inputs_grid
            cols: 3
            spacing: '20dp'
            size_hint: (.6, None)
            pos_hint: {'x': .1, 'y': .5}

<CommandButton>:
    Image:
        source: root.icon
        x: root.x
        y: root.y
        size: (48, 48)

<StatusBar@BoxLayout>:
    canvas.before:
        Color:
            rgb: 0.3, 0.3, 0.3
        Rectangle:
            size: self.size

<RootWidget>:
    id: root_widget
    popup: popup.__self__
    orientation: 'vertical'

    canvas.before:
        Color:
            rgb: .6, .6, .6
        Rectangle:
            size: self.size
            source: 'cave/data/images/burdick.png'

    Popup:
        size_hint: (None, None)
        size: (300, 200)
        id: popup
        title: "Please wait"
        on_parent:
            if self.parent == root_widget: self.parent.remove_widget(self)
        Label:
            id: popup_label
            text: 'Please wait while the device powers on.'
            on_touch_down: popup.dismiss()

    ActionBar:
        ActionView:
            id: av
            ActionPrevious:
                title: app.location + ' - ' + app.current_tab_title
                on_release: app.go_home()

            ActionSeparator:

            ActionButton:
                text: 'On'
                icon: 'cave/data/images/power_on.png'
                size_hint_x: .09
                on_release: app.power_on_pressed()

            ActionSeparator:

            ActionButton:
                text: 'Off'
                icon: 'cave/data/images/power_off.png'
                size_hint_x: .09
                on_press: app.power_off_pressed()

    DeviceAccordion:
        id: accordion
        orientation: 'horizontal'

    StatusBar:
        orientation: 'vertical'
        size_hint_y: .12

        Label:
            text: app.status
        StatusActivityIndicator:
            id: sai
            time: app.time
            value: 0
